kind: ConfigMap
apiVersion: v1
metadata:
  name: rekor-server-config
  namespace: rekor-system
data:
  sharding-config.yaml: |
{% for tree in tas_single_node_rekor.sharding_config %}
    - treeID: {% if tree.treeID == None %}{{ trillian_tree_id }}{% else %}{{ tree.treeID }}{% endif %}
{% if tree.treeLength is defined %}
      treeLength: {{ tree.treeLength }}
{% endfor %}
{% if tree.signingConfig is defined %}
      signingConfig: {{ tree.signingConfig }}
{% endif %}
{% endfor %}